# 希尔排序（Shell Sort）

---

| 时间复杂度   | 空间复杂度 | 排序方式 | 稳定性 |
| ------------ | ---------- | -------- | ------ |
| O(n^(1.3—2)) | O(1)       | 内排序   | 不稳定 |

1959年由希尔（Shell）发明，是第一个时间复杂度突破O(n²)的排序算法。

希尔排序由插入排序改进而来，其本质为分组进行多次插入排序。

插入排序主要缺点在于：待排序数组中某元素的起始位置与排序后的最终位置距离过远，若使用插入排序时又较早地对它进行了插入操作，则它需要被移动的次数过多。

**例如：**一个长度为n的待排序数组的首元素是该数组中的最大值，对该数组进行升序排序时，初始首元素就需要移动n-1次。

## 算法介绍

对长度为n的数组Arr进行多轮排序，每一轮首先设定**步长**。步长通常为n/2，n/4，n/8……直到步长为一。对于奇数个待排序元素，步长可以向下取整。

第一轮：Arr[i]与Arr[i+n/2]进行插入排序，i取值范围为0~n/2。

第二轮：Arr[i]与Arr[i+n/4]进行插入排序。

……

最后一轮排序时，由于步长为一，相当于对数组整体进行一次插入排序。但是由于此时数组已基本有序，所以元素需要移动的次数很少。

